# ๐ง ุญู ูุดููุฉ: ุงูุจูุงูุงุช ุชุถุงู ููู ุชุฎุชูู ุจุนุฏ Reload

## ๐ฅ ุงููุดููุฉ
- โ ุงูุจูุงูุงุช ุชุธูุฑ ูู ุงูุฏุงุดุจูุฑุฏ ุจุนุฏ ุงูุฅุถุงูุฉ
- โ ููู ุชุฎุชูู ุจุนุฏ ุฅุนุงุฏุฉ ุชุญููู ุงูุตูุญุฉ (F5)
- โ ุงูููุชุฌุงุช ูุง ุชุธูุฑ ูู ุงููููุน ุงูุฃุณุงุณู
- โ ุฃู ุชุนุฏูู ูุฎุชูู ุจุนุฏ Reload

## ๐ ุงูุณุจุจ
ุงููุดููุฉ ูู **RLS Policies** - ุงูู Policies ูุง ุชุณูุญ ุจุงูู INSERT/UPDATE ุจุดูู ุตุญูุญ.

---

## โ ุงูุญู ุงูุณุฑูุน - 3 ุฎุทูุงุช

### ุงูุฎุทูุฉ 1๏ธโฃ: ูุญุต ูุงุนุฏุฉ ุงูุจูุงูุงุช
ุดุบู ูู Supabase SQL Editor:
```sql
-- ุงูุณุฎ ุงูููุฏ ูู:
database/CHECK_DATABASE.sql
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- ูุฌุจ ุฃู ุชุธูุฑ ุฌููุน ุงูุฌุฏุงูู โ
- ูุฌุจ ุฃู ุชุธูุฑ ุงูู Policies โ
- ูุฌุจ ุฃู ูุถูู ููุชุฌ ุงุฎุชุจุงุฑ ุจูุฌุงุญ โ

### ุงูุฎุทูุฉ 2๏ธโฃ: ุฅุตูุงุญ ุงูู Policies
ุดุบู ูู Supabase SQL Editor:
```sql
-- ุงูุณุฎ ุงูููุฏ ูู:
database/FIX_POLICIES.sql
```

**ูุฐุง ุณูููู ุจู:**
- โ ุญุฐู ุฌููุน ุงูู Policies ุงููุฏููุฉ
- โ ุฅูุดุงุก Policies ุฌุฏูุฏุฉ ุตุญูุญุฉ
- โ ููุญ ุฌููุน ุงูุตูุงุญูุงุช (INSERT, UPDATE, DELETE, SELECT)
- โ ุงุฎุชุจุงุฑ ุงูุฅุถุงูุฉ

### ุงูุฎุทูุฉ 3๏ธโฃ: ุฃุนุฏ ุชุญููู ุงูุฏุงุดุจูุฑุฏ
- ุงุถุบุท F5 ูู ุงููุชุตูุญ
- ุฃู ุฃุบูู ูุงูุชุญ ุงูุชุทุจูู
- ุฌุฑุจ ุฅุถุงูุฉ ููุชุฌ ุฌุฏูุฏ
- **ุณูุญูุธ ุจูุฌุงุญ!** โ

---

## ๐ฏ ุงููุฑู ุจูู Policy ุงููุฏููุฉ ูุงูุฌุฏูุฏุฉ:

### โ Policy ุงููุฏููุฉ (ูุง ุชุนูู):
```sql
CREATE POLICY "Allow all on products"
ON products FOR ALL
TO anon, authenticated
USING (true)
WITH CHECK (true);
```

### โ Policy ุงูุฌุฏูุฏุฉ (ุชุนูู):
```sql
CREATE POLICY "Enable all for products"
ON products FOR ALL
TO public
USING (true)
WITH CHECK (true);
```

**ุงููุฑู:** ุงุณุชุฎุฏุงู `TO public` ุจุฏูุงู ูู `TO anon, authenticated`

---

## ๐งช ุงุฎุชุจุงุฑ ุงูุญู:

### 1. ุงุฎุชุจุฑ ูู SQL Editor:
```sql
-- ูุญุงููุฉ ุฅุถุงูุฉ ููุชุฌ
INSERT INTO products (name, slug, description, price, is_active, stock_quantity, sku)
VALUES ('ููุชุฌ ุงุฎุชุจุงุฑ', 'test-123', 'ุงุฎุชุจุงุฑ', 50.00, true, 10, 'TEST-123')
RETURNING *;

-- ุนุฑุถ ุงูููุชุฌ
SELECT * FROM products WHERE sku = 'TEST-123';
```

**ุฅุฐุง ูุฌุญ:** ูุนูุงูุง ูุงุนุฏุฉ ุงูุจูุงูุงุช ุชุนูู โ

### 2. ุงุฎุชุจุฑ ูู ุงูุฏุงุดุจูุฑุฏ:
1. ุงุฐูุจ ูุตูุญุฉ ุงูููุชุฌุงุช
2. ุงุถุบุท "ุฅุถุงูุฉ ููุชุฌ ุฌุฏูุฏ"
3. ุงููุฃ ุงูุจูุงูุงุช
4. ุงุญูุธ
5. **ุฃุนุฏ ุชุญููู ุงูุตูุญุฉ (F5)**
6. **ูุฌุจ ุฃู ูุธูุฑ ุงูููุชุฌ** โ

### 3. ุงุฎุชุจุฑ ูู ุงููููุน:
1. ุงุฐูุจ ูุตูุญุฉ ุงูููุชุฌุงุช ูู ุงููููุน
2. **ูุฌุจ ุฃู ุชุธูุฑ ุฌููุน ุงูููุชุฌุงุช** โ

---

## ๐ ุฅุฐุง ุงุณุชูุฑุช ุงููุดููุฉ:

### ุชุญูู ูู Console ูู ุงููุชุตูุญ:
1. ุงุถุบุท F12
2. ุงุฐูุจ ูู Console
3. ุงุจุญุซ ุนู ุฃุฎุทุงุก ูุซู:
   - `403 Forbidden`
   - `401 Unauthorized`
   - `new row violates row-level security policy`

### ุฅุฐุง ูุฌุฏุช ุฎุทุฃ RLS:
```sql
-- ุนุทู RLS ูุคูุชุงู ููุงุฎุชุจุงุฑ
ALTER TABLE products DISABLE ROW LEVEL SECURITY;
ALTER TABLE categories DISABLE ROW LEVEL SECURITY;

-- ุฌุฑุจ ุงูุฅุถุงูุฉ ุงูุขู
-- ุฅุฐุง ูุฌุญุชุ ุงููุดููุฉ ูู ุงูู Policies

-- ุฃุนุฏ ุชูุนูู RLS
ALTER TABLE products ENABLE ROW LEVEL SECURITY;
ALTER TABLE categories ENABLE ROW LEVEL SECURITY;

-- ุดุบู FIX_POLICIES.sql ูุฑุฉ ุฃุฎุฑู
```

### ุชุญูู ูู Environment Variables:
```javascript
// ูู Console ุงููุชุตูุญุ ุดุบู:
console.log('URL:', import.meta.env.VITE_SUPABASE_URL)
console.log('Key:', import.meta.env.VITE_SUPABASE_ANON_KEY ? 'ููุฌูุฏ' : 'ููููุฏ')
```

ูุฌุจ ุฃู ูุธูุฑ:
- โ URL: `https://ijpugtvfckmptzegdchr.supabase.co`
- โ Key: `ููุฌูุฏ`

---

## ๐ ุงูุฌุฏุงูู ุงููุชุฃุซุฑุฉ:

ุฌููุน ูุฐู ุงูุฌุฏุงูู ูุฌุจ ุฃู ุชุนูู ุจุนุฏ ุงูุฅุตูุงุญ:
- โ categories (ุงูุชุตูููุงุช)
- โ products (ุงูููุชุฌุงุช)
- โ orders (ุงูุทูุจุงุช)
- โ reviews (ุงููุฑุงุฌุนุงุช)
- โ blog_posts (ุงูููุงูุงุช)
- โ customers (ุงูุนููุงุก)
- โ about_page_settings (ูู ูุญู)
- โ site_settings (ุฅุนุฏุงุฏุงุช ุงููููุน)
- โ header_settings (ุงูููุฏุฑ)
- โ contact_settings (ุงูุชูุงุตู)
- โ slider_settings (ุงูุณูุงูุฏุฑ)

---

## ๐ ุงููุชูุฌุฉ ุงููุชููุนุฉ:

ุจุนุฏ ุชุดุบูู `FIX_POLICIES.sql`:

### โ ูู ุงูุฏุงุดุจูุฑุฏ:
- ุฅุถุงูุฉ ููุชุฌ โ **ูุญูุธ** โ
- ุชุนุฏูู ููุชุฌ โ **ูุญูุธ** โ
- ุญุฐู ููุชุฌ โ **ูุญุฐู** โ
- Reload ุงูุตูุญุฉ โ **ุงูุจูุงูุงุช ุชุจูู** โ

### โ ูู ุงููููุน:
- ุงูููุชุฌุงุช ุชุธูุฑ โ
- ุงูุชุตูููุงุช ุชุธูุฑ โ
- ุงูููุงูุงุช ุชุธูุฑ โ
- ูู ุดูุก ูุนูู โ

---

## ๐ ููุงุญุธุงุช ูููุฉ:

1. **ูุง ุชูุณู:** ุดุบู `FIX_POLICIES.sql` ูู Supabase SQL Editor
2. **ุฃุนุฏ ุชุญููู:** ุงูุตูุญุฉ ุจุนุฏ ุชุดุบูู ุงูููุฏ
3. **ุงูุณุญ Cache:** ุฅุฐุง ูู ุชุธูุฑ ุงูุชุบููุฑุงุช (Ctrl+Shift+R)
4. **ุชุญูู ูู Console:** ููุชุฃูุฏ ูู ุนุฏู ูุฌูุฏ ุฃุฎุทุงุก

---

## ๐ ุงูุฎุทูุงุช ุจุงูุชุฑุชูุจ:

```
1. ุดุบู: database/CHECK_DATABASE.sql
   โ
2. ุดุบู: database/FIX_POLICIES.sql
   โ
3. ุฃุนุฏ ุชุญููู ุงูุฏุงุดุจูุฑุฏ (F5)
   โ
4. ุฌุฑุจ ุฅุถุงูุฉ ููุชุฌ
   โ
5. ุฃุนุฏ ุชุญููู ุงูุตูุญุฉ (F5)
   โ
6. โ ุงูููุชุฌ ูุธูุฑ!
```

**ุงูุขู ูู ุดูุก ุณูุนูู ุจุดูู ุตุญูุญ!** ๐
